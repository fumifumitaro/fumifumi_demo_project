version: "3"services:  web:    build: ./docker/nginx    depends_on:      - app    ports:      - ${NGINX_PORT}:80    volumes:      - ${PROJECT_PATH}:/work      - ./docker/nginx/default.conf:/etc/nginx/conf.d/default.conf      - ./docker/nginx/log:/var/log/nginx  app:    build: ./docker/php    volumes:      - ${PROJECT_PATH}:/work    working_dir: /work    links:      - fluentd    depends_on:      - fluentd  fluentd:    build: ./docker/fluentd    volumes:      - ./docker/fluentd/config:/fluentd/etc      - ./docker/nginx/log:/var/log/nginx      - ./docker/fluentd/log:/var/log/fluentd    links:      - elasticsearch    ports:      - "24225:24225"    depends_on:      - elasticsearch  elasticsearch:    build: ./docker/elasticsearch    environment:      - discovery.type=single-node      - "ES_JAVA_OPTS=-Xms512m -Xmx512m"    ports:      - "9220:9220"    ulimits:      memlock:        soft: -1        hard: -1    volumes:      - esdata:/usr/share/elasticsearch/data  kibana:    build: ./docker/kibana    ports:      - "5605:5605"    links:      - elasticsearch:elasticsearch  mysql:    build: ./docker/mysql    volumes:      - mysql-data:/var/lib/mysql    environment:      - MYSQL_DATABASE=${MYSQL_DATABASE}      - MYSQL_USER=${MYSQL_USER}      - MYSQL_ROOT=${MYSQL_PASSWORD}      - MYSQL_ROOT_PASSWORD=${MYSQL_ROOT_PASSWORD}    ports:      - ${MYSQL_PORT}:3306  composer:    build: ./docker/composer    volumes:      - ${PROJECT_PATH}:/work    working_dir: /work  mail:    image: mailhog/mailhog    ports:      - ${MAILHOG_PORT}:8025  node:    image: node:11-alpine    build: ./docker/node    volumes:      - ${PROJECT_PATH}:/work    working_dir: /work    tty: truevolumes:  mysql-data:    driver: local  esdata:    driver: local